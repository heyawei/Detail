  <!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
    <link rel="stylesheet" href="css/swiper.min.css"/>
    <link rel="stylesheet" href="css/reset.min.css"/>
    <link rel="stylesheet" href="css/animate.css"/>
    <link rel="stylesheet" href="index.css"/>
    <script>
        var desw = 640;
        var winW = document.documentElement.clientWidth;
        document.documentElement.style.fontSize = winW / desw * 100 + 'px';
    </script>
</head>
<body>
<section class="main">
    <div class="music">
        <audio src="../素材/audio/beyond.mp3" loop preload="none" id="beyond"></audio>
    </div>
    <div class="swiper-container">
        <div class="swiper-wrapper">
            <div class="swiper-slide slide1">
                <img src="img/swiper/page1-text1.png" alt=""/>
                <img src="img/swiper/page1-text2.png" alt=""/>
                <img src="img/swiper/page1-text3.png" alt=""/>
                <img src="img/swiper/page1-text4.png" alt=""/>
            </div>
            <div class="swiper-slide slide2">
                <img src="img/swiper/page2-text1.png" alt=""/>
                <img src="img/swiper/page2-text2.png" alt=""/>
                <img src="img/swiper/page2-text3.png" alt=""/>
                <img src="img/swiper/page2-text4.png" alt=""/>
            </div>
        </div>
    </div>
</section>
</body>
</html>
</html>
<script src="js/swiper.min.js"></script>
<script>
    //不循环模式：
    /* var mySwiper = new Swiper ('.swiper-container', {
     direction: 'vertical',//ertical
     onTransitionEnd:function (swiper) {
     var curIndex=swiper.activeIndex;//获取当前显示的slide的索引
     var slides=swiper.slides;
     [].forEach.call(slides,function(item,原生Js) {
     item.id="";
     if(原生Js==curIndex){
     item.id='page'+(curIndex+1);
     }
     })
     },
     onInit:function (swiper) {
     var slides=swiper.slides;
     slides[0].id='page1'
     }
     })*/
    var mySwiper = new Swiper('.swiper-container', {
        direction: 'vertical',
        loop:true,
        onTransitionEnd: function (swiper) {
            var slides = swiper.slides;
            var curIndex = swiper.activeIndex;
            var lastIndexSlide = slides.length - 1;
            var trueIndexSlide = slides.length - 2;
            [].forEach.call(slides, function (item, index) {
                item.id = '';
                if (curIndex == index) {
                    switch (index) {
                        case 0:
                            item.id = 'page' + trueIndexSlide;
                            break;
                        case lastIndexSlide:
                            item.id = 'page1';
                            break;
                        default:
                            item.id = 'page' + curIndex
                    }
                }
            })
        }
    });
            var music = document.querySelector('.music');
            var beyond = document.querySelector('#beyond');
            window.setTimeout(function () {
            beyond.play();
            beyond.addEventListener('canplay',function(){
                music.className='music musicCur'
            })

    }, 1000);
    music.addEventListener('click',function(){
        if(beyond.paused){
            beyond.play();
            music.className='music musicCur'
        }else {
            beyond.pause();
            music.className='music';
            music.style.opacity=1;
    }
        },false)
</script>
